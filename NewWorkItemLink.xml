<?xml version="1.0" encoding="UTF-8" ?>
<Module>
	<ModulePrefs 
		title="New Work Item"
		height="30">
		<Require feature="dynamic-height"/>
		<Require feature="setprefs"/>
	</ModulePrefs>
	<UserPref datatype="string" name="lText" display_name="Hyperlink Text"/>
	<UserPref datatype="string" name="WIId" display_name="Template Work Item Id"/>
	<Content type="html">
		<![CDATA[
			<html>
				<head>
					<link rel="stylesheet" href="css/widgets.css">
					<script src="scripts/jquery-3.3.1.js"></script>
					<script src="scripts/common.js"></script>
					<script src="scripts/NewWorkItemLink.js"></script>
					<script>
						function initialize(){
							var prefs = new gadgets.Prefs();
    						var lText = prefs.getString("lText");
							var WIId = prefs.getString("WIId");
							var iURL = prefs.getString("iURL");
							if (lText!= ""){
								var icon = '<svg style="float:left;" height="24px" viewBox="0 0 24 24"><path d="M22.5,14H14v8.5c0,0.276-0.224,0.5-0.5,0.5h-4C9.224,23,9,22.776,9,22.5V14H0.5 C0.224,14,0,13.776,0,13.5v-4C0,9.224,0.224,9,0.5,9H9V0.5C9,0.224,9.224,0,9.5,0h4C13.776,0,14,0.224,14,0.5V9h8.5 C22.776,9,23,9.224,23,9.5v4C23,13.776,22.776,14,22.5,14z"/></svg>';
								document.getElementById('linkDiv').innerHTML = '<div class="svgButton" style="font-size:1.5em;" onclick="createWICopy()">' + icon + '<div style="margin-left:30px;margin-top:-2px;">' + lText + '</div></div>';
							} else {
								document.getElementById('linkDiv').innerHTML = "This widget needs to be set up. Use the menu to configure it.";
							}
						}
					</script>
				</head>
				<body onload="initialize()">
					<div id='linkDiv'>
						
					</div>
				</body>
			</html>
		]]>
	</Content>
</Module>